## 📌 주제별 학습 정리 (개인 작성)

---

### 📍 Topic B – JPA 개념

---

### 1️⃣ 핵심 개념 한 줄
> ORM은 객체 지향 언어의 객체와 관계형 DB의 테이블을 매핑해서, SQL을 직접 쓰지 않고도 DB를 다룰 수 있게 해주는 기술이다.
> JPA는 자바 객체와 관계형 데이터베이스를 매핑하기 위한 ORM 표준 인터페이스이다.


---

### 2️⃣ 동작 원리 요약

- **왜 필요한가?**
  - SQL이 아닌 객체 중심으로 데이터를 처리 함으로써 객체를 중심으로 개발할 수 있다.
  - 테이블 구조 변경 시 SQL 수정 등이 최소화되니 유지보수와 확장성 면에서 좋다.
- **어떻게 동작하는가?**
  - https://miiiiiin-devlog.tistory.com/134
  - JPA에서는 persist()를 호출하면 바로 INSERT SQL이 실행되지 않고, 엔티티가 영속성 컨텍스트에 저장된다. 이후 트랜잭션 커밋 시점에 flush가 발생하면서 쓰기 지연 상태였던 INSERT SQL이 실행되고 DB에 반영되게 된다.
  - 영속성 컨텍스트에서 find로 엔티티를 조회하면, 해당 객체는 영속 상태의 엔티티가 된다. 이때 조회된 엔티티는 영속성 컨텍스트의 1차 캐시에 저장되며, 동시에 조회 시점의 상태를 기준으로 최초 스냅샷이 내부적으로 함께 저장된다.이후 애플리케이션에서 영속 엔티티의 값을 변경하더라도, 그 즉시 데이터베이스에 반영되지는 않고, 단순히 객체의 필드 값만 변경된 상태로 유지된다. 트랜잭션이 종료되면서 commit이 호출되면, 영속성 컨텍스트는 현재 엔티티의 상태와 최초 스냅샷을 비교한다. 이 과정에서 변경 사항이 감지되면(Dirty Checking), 해당 변경 내용을 반영하는 UPDATE SQL을 생성하여 쓰기 지연 SQL 저장소에 등록한다.

---

### 3️⃣ 핵심 키워드

- `영속성 컨텍스트`
- `commit & flush`

---

### 4️⃣ 주의 포인트

- ❗ 영속 객체 = DB에 저장된 객체 (X) => 영속성 컨텍스트에 의해 관리되는 객체
- persist하면 바로 INSERT 된다 (X) => flush 시점에 실행
- ⚠️ JPA = Hibernate (X) => JPA는 표준, Hibernate는 구현체

### 5️⃣ 자주 나오는 면접 질문 (선택)

- Q.
- Q.

### 6️⃣ 꼬리 질문 & 대응 포인트 (선택)

- 꼬리 질문:
- 대응 논리:

### 7️⃣ 실무 적용 or 가상 시나리오 (선택)

- 실제/가정 상황:
- 선택 이유:

